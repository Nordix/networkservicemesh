FROM alpine:latest

# Install dependencies
RUN apk --update add supervisor \
                     openvswitch \
                     bash \
                     net-tools

# Add supervisord and ovs configuration files
ADD supervisord.conf /etc/supervisord.conf

# copy ovs-forwarder binary into bin directory
ADD ovs-forwarder /bin/ovs-forwarder

# When container starts, supervisord is executed
ENTRYPOINT /usr/bin/supervisord
